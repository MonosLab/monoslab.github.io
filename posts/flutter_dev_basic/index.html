<!DOCTYPE html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="[ Flutter ] 플러터를 이용한 윈도우용 앱 개발 (2)" /><meta name="author" content="Kwangsoo Seo" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="Contents" /><meta property="og:description" content="Contents" /><link rel="canonical" href="https://monoslab.github.io/posts/flutter_dev_basic/" /><meta property="og:url" content="https://monoslab.github.io/posts/flutter_dev_basic/" /><meta property="og:site_name" content="MonosLab" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-12-09T06:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[ Flutter ] 플러터를 이용한 윈도우용 앱 개발 (2)" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Kwangsoo Seo" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Kwangsoo Seo"},"dateModified":"2023-03-03T15:13:26+09:00","datePublished":"2022-12-09T06:00:00+09:00","description":"Contents","headline":"[ Flutter ] 플러터를 이용한 윈도우용 앱 개발 (2)","mainEntityOfPage":{"@type":"WebPage","@id":"https://monoslab.github.io/posts/flutter_dev_basic/"},"url":"https://monoslab.github.io/posts/flutter_dev_basic/"}</script><title>[ Flutter ] 플러터를 이용한 윈도우용 앱 개발 (2) | MonosLab</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="MonosLab"><meta name="application-name" content="MonosLab"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">MonosLab</a></div><div class="site-subtitle font-italic">Season 1</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <img src="/assets/img/default/home.png" alt="home" onerror="this.style.display='none'"> <span>홈</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <img src="/assets/img/default/categories.png" alt="categories" onerror="this.style.display='none'"> <span>카테고리</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <img src="/assets/img/default/archives.png" alt="archives" onerror="this.style.display='none'"> <span>타임라인</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <img src="/assets/img/default/tags.png" alt="tags" onerror="this.style.display='none'"> <span>태그</span> </a><li class="nav-item"> <a href="/portfolio/" class="nav-link"> <img src="/assets/img/default/portfolio.png" alt="portfolio" onerror="this.style.display='none'"> <span>주요 경력</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <img src="/assets/img/default/about.png" alt="about" onerror="this.style.display='none'"> <span>정보</span> </a></ul><footer class="d-flex w-100 justify-content-left"><div class="d-flex justify-content-between align-items-left text-muted"><div class="footer-left"><p class="mb-1" style="vertical-align: top;"> <a href="https://en.wikipedia.org/wiki/Creative_Commons_license" target="_blank"><img width="88" height="31" src="/assets/img/cc_by-nc_icon.png" alt="cc" onerror="this.style.display='none'"></a> &nbsp;&nbsp;&nbsp;<img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgithub.com%2FMonosLab%2Fhit-counter&count_bg=%2379C83D&title_bg=%23909090&icon=&icon_color=%23E7E7E7&title=hits&edge_flat=false" alt="count" onerror="this.style.display='none'"></p><p class="mb-0"> ©2025 <a href="https://www.youtube.com/channel/UCypXLJ4v42wl5FOsLebYiOg">MonosLab</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다.">일부 권리 보유</span> <br/> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 홈 </a> </span> <span>[ Flutter ] 플러터를 이용한 윈도우용 앱 개발 (2)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[ Flutter ] 플러터를 이용한 윈도우용 앱 개발 (2)</h1><div class="post-meta text-muted"> <span> 게시 <em class="" data-ts="1670533200" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2022-12-09 </em> </span> <span> 업데이트 <em class="" data-ts="1677824006" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2023-03-03 </em> </span><div class="d-flex justify-content-between"> <span> By <em> MonosLab </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="2141 단어"> <em>11 분</em>읽는 시간</span></div></div></div><div class="post-content"><p class="no_toc"><a href="http://hits.dwyl.com/MonosLab/post19"><img data-src="https://hits.dwyl.com/MonosLab/post19.svg?style=flat-square&amp;show=https://raw.githubusercontent.com/cotes2020/chirpy-images/mainunique" alt="HitCount" data-proofer-ignore></a></p><hr /><p class="no_toc"><strong>Contents</strong></p><ul id="markdown-toc"><li><a href="#windows용-flutter-프로젝트-생성" id="markdown-toc-windows용-flutter-프로젝트-생성">Windows용 Flutter 프로젝트 생성</a><li><a href="#프로젝트-불러오기" id="markdown-toc-프로젝트-불러오기">프로젝트 불러오기</a><li><a href="#브라우저-만들기" id="markdown-toc-브라우저-만들기">브라우저 만들기</a><ul><li><a href="#패키지-설치" id="markdown-toc-패키지-설치">패키지 설치</a></ul><li><a href="#개발하면서-느낀점" id="markdown-toc-개발하면서-느낀점">개발하면서 느낀점</a></ul><hr /><h1 id="windows용-flutter-프로젝트-생성">Windows용 Flutter 프로젝트 생성</h1><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>&gt; mkdir Sample   
&gt; cd Sample   
&gt; flutter create --template=app --platforms=windows nfbrowser   
  Creating project nfbrowser...   
  Running "flutter pub get" in nfbrowser...                        1,506ms   
  Wrote 27 files.   

  All done!   
</pre></table></code></div></div><hr /><h1 id="프로젝트-불러오기">프로젝트 불러오기</h1><ul><li>Android studio 실행<li>생성된 프로젝트 불러 오기 <br /> ** 상단 메뉴 &gt; File &gt; Open을 차례로 눌러 조금전에 생성한 디렉토리로 이동하여 프로젝트를 오픈합니다. <br /> ** shift + F10 또는 메뉴의 run &gt; Run ‘main.dart’ 를 클릭하여 컴파일 후 정상적으로 윈도우가 뜨는지 확인합니다.</ul><hr /><h1 id="브라우저-만들기">브라우저<sup id="fnref:footnote_1"><a href="#fn:footnote_1" class="footnote" rel="footnote" role="doc-noteref">1</a></sup> 만들기</h1><h2 id="패키지-설치"><span class="mr-2">패키지 설치</span><a href="#패키지-설치" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>pubspect.yaml 파일의 프로젝트에서 사용할 dependencies에 패키지를 추가합니다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>dev_dependencies:
  webview_windows: ^0.2.2
  system_tray: ^2.0.2
  window_manager: ^0.2.8
  easy_localization: ^3.0.0
  window_size:
    git:
      url: https://github.com/google/flutter-desktop-embedding.git
      path: plugins/window_size
      ref: 5c51870ced62a00e809ba4b81a846a052d241c9f
</pre></table></code></div></div><p>순서대로</p><ul><li>webview_windows 패키지는 웹브라우저를 개발하기 위한 패키지입니다.<li>system_tray는 윈도우의 시스템 트레이 영역에 아이콘을 표시를 위해 사용합니다.<li>window_manager는 시스템 종료 버튼에 다른 액션을 주기 위해 사용하였습니다.(종료 버튼 클릭시 숨김 처리)<li>easy_localization은 다국어를 위한 패키지입니다.<li>window_size는 아직 공홈에서 지원하는 패키지가 아니어서 git에서 직접 받아와서 사용하였습니다. 윈도우의 타이틀 및 사이즈 변경을 위하여 사용하였습니다.</ul><p>차례대로 main.dart 파일에 모두 import 시켜줍니다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>import 'package:webview_windows/webview_windows.dart';
import 'package:system_tray/system_tray.dart';
import 'package:window_manager/window_manager.dart';
import 'package:easy_localization/easy_localization.dart';
import 'package:nfbrowser/model/nfbrowser.dart';
import 'package:window_size/window_size.dart'; 
</pre></table></code></div></div><ul><li>webview_windows : 웹브라우저 위젯<li>system_tray : 시스템 트레이 위젯<li>window_manager : 윈도우 종료 관련 처리를 위한 위젯<li>easy_localization : 다국어 처리를 위한 위젯<li>window_size : 윈도우 타이틀, 사이즈 변경을 위한 위젯</ul><hr /><p>메인에서 다국어 처리를 하고 MyApp 위젯을 호출합니다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>void main() async {
  // easylocalization 초기화
  await EasyLocalization.ensureInitialized();

  runApp(EasyLocalization(
      supportedLocales: [ const Locale('en', 'US'), const Locale('ko', 'KR')],
      path: 'assets/lang',                            // 언어 파일 경로
      fallbackLocale: const Locale('en', 'US'),   // fallbackLocale supportedLocales에 설정한 언어가 없는 경우 설정되는 언어
      child: const MyApp()));
}
</pre></table></code></div></div><hr /><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>class MyApp extends StatelessWidget {
  const MyApp({Key? key}) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
        debugShowCheckedModeBanner: false,  // 디버그 표시를 없앰.
        navigatorKey: NfBrowser.naviagatorState,
        // 기본적으로 필요한 언어 설정
        localizationsDelegates: context.localizationDelegates,
        supportedLocales: context.supportedLocales,
        locale: context.locale,
        home: const NfBrowser());
  }
}
</pre></table></code></div></div><p>MyApp 위젯에서 앱의 상단의 디버그 표시를 없애고 홈으로 NfBrowser()를 설정해 줍니다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
</pre><td class="rouge-code"><pre>class NfBrowser extends StatefulWidget {
  const NfBrowser({Key? key}) : super(key: key);

  static final GlobalKey&lt;NavigatorState&gt; naviagatorState = GlobalKey&lt;NavigatorState&gt;();

  @override
  _NfBrowserState createState() =&gt; _NfBrowserState();
}

class _NfBrowserState extends State&lt;NfBrowser&gt; with WindowListener {
  final _appWindow = AppWindow();
  final _systemTray = SystemTray();
  final _menuMain = Menu();
  final _webview = WebviewController();
  final _textEdit = TextEditingController();
  final _isWindows = Platform.isWindows;

  late NFBrowser nfbrowser;

  @override
  Widget build(BuildContext context) {
    return MaterialApp(
      debugShowCheckedModeBanner: false,  // 디버그 표시를 없앰.
      navigatorKey: navigatorKey,
      home: Scaffold(
        body: Center(
          child: compositeView(),
        ),
      ),
    );
  }

  Widget compositeView() {
    if (!_webview.value.isInitialized) {
      return const Text(
        'Not Initialized',
        style: TextStyle(
          fontFamily: '맑은 고딕',
          fontSize: 24.0,
          fontWeight: FontWeight.w700, //.w900,
        ),
      );
    } else {
      return Container(
        // padding: EdgeInsets.all(10),
        padding: EdgeInsets.zero,
        child: Column(
          children: [
            Expanded(
                child: Card(
                    color: Colors.transparent,
                    elevation: 0,
                    clipBehavior: Clip.antiAliasWithSaveLayer,
                    shape: RoundedRectangleBorder(
                      borderRadius: const BorderRadius.only(    // if you need this
                        topLeft: Radius.circular(25),
                        topRight: Radius.circular(25),
                      ),
                      side: BorderSide(
                        color: Colors.grey.withOpacity(0.2),
                        width: 1,
                      ),
                    ),
                    child: Stack(
                      children: [
                        Webview(
                          _webview,
                          permissionRequested: (url, permissionKind, isUserInitiated) =&gt; WebviewPermissionDecision.allow,
                        ),
                        StreamBuilder&lt;LoadingState&gt;(
                            stream: _webview.loadingState,
                            builder: (context, snapshot) {
                              if (snapshot.hasData &amp;&amp; snapshot.data == LoadingState.loading) {
                                return const LinearProgressIndicator();
                              } else {
                                return Container();
                              }
                            }
                        ),
                      ],
                    )
                )
            ),
          ],
        ),
      );
    }
  }

  @override
  void initState() {
    windowManager.addListener(this);
    super.initState();

    loadInit();
  }

  void loadInit() async {
    await loadData();
    await init();
    await initSystemTray();
    await initPlatformState();

    if (Platform.isWindows || Platform.isLinux || Platform.isMacOS) {
      setWindowTitle('appname'.tr());
      setWindowMaxSize(Size.infinite);
    }
  }

  @override
  void dispose() {
    windowManager.removeListener(this);
    super.dispose();
  }

  @override
  void onWindowEvent(String eventName) {
    print('[WindowManager] onWindowEvent: $eventName');
  }

  @override
  void onWindowClose() async {
    // do something
    bool isPreventClose = await windowManager.isPreventClose();
    if (isPreventClose) {
      _appWindow.hide();
    }
  }

  @override
  void onWindowFocus() {
    // Make sure to call once.
    setState(() {});
    // do something
  }

  Future&lt;bool&gt; loadData() async {
    String data = await rootBundle.loadString("assets/NFBrowser.json");
    final jsonResponse = json.decode(data);
    nfbrowser = NFBrowser.fromJson(jsonResponse);
    debugPrint('= [JSON] ==============================================');
    debugPrint(jsonResponse.toString());
    debugPrint('=======================================================');
    setState(() {});
    return true;
  }

  Future&lt;void&gt; init() async {
    // Add this line to override the default close handler
    await windowManager.setPreventClose(true);
    setState(() {});
  }

  Future&lt;void&gt; initSystemTray() async {
    List&lt;String&gt; iconList = ['open', 'exit'];

    // We first init the systray menu and then add the menu entries
    await _systemTray.initSystemTray(iconPath: getTrayImagePath('app_icon'));
    _systemTray.setTitle('appname'.tr());
    _systemTray.setToolTip('appver'.tr(namedArgs: {'name': 'appname'.tr(), 'ver': 'Ver. 1.0.1'}));
    _systemTray.setContextMenu(_menuMain);
    // handle system tray event
    _systemTray.registerSystemTrayEventHandler((eventName) {
      debugPrint("eventName : $eventName");
      if(eventName == kSystemTrayEventClick) {
        _isWindows ? _appWindow.show() : _systemTray.popUpContextMenu();
      } else if (eventName == kSystemTrayEventRightClick) {
        _isWindows ? _systemTray.popUpContextMenu() : _appWindow.show();
      }
    });

    await _menuMain.buildFrom(
      [
        MenuItemLabel(label: 'open'.tr(),
          image: getImagePath('open'),
          onClicked: (menuItem) {
            debugPrint("Open Menu");
            _appWindow.show();
          }
        ),
        MenuSeparator(),
        MenuItemLabel(label: 'exit'.tr(),
          image: getImagePath('exit'),
          onClicked: (menuItem) {
            debugPrint("Exit Menu");
            //_appWindow.close();
            windowManager.destroy();
          }
        ),
      ]
    );
  }

  Future&lt;void&gt; initPlatformState() async {
    var adminauto = nfbrowser.adminauto;
    var protocol = nfbrowser.protocol;
    var domain = nfbrowser.domain;
    debugPrint('&gt;&gt; adminauto : ${adminauto.toString()}');
    debugPrint('&gt;&gt; protocol : ${protocol.toString()}');
    debugPrint('&gt;&gt; domain : $domain');

    try {
      await _webview.initialize();

      _webview.url.listen((url) {
        _textEdit.text = url;
      });

      late String url;
      if(protocol == 1) {
        url = 'https://$domain';
      }
      else {
        url = 'http://$domain';
      }

      await _webview.setBackgroundColor(Colors.transparent);
      await _webview.setPopupWindowPolicy(WebviewPopupWindowPolicy.allow);
      await _webview.loadUrl(url);

      if (!mounted) return;

      setState(() {});

      _appWindow.show();
    } on PlatformException catch(e) {
      debugPrint(e.toString());
    }
  }

  Future&lt;WebviewPermissionDecision&gt; _onPermissionRequested(
      String url, WebviewPermissionKind kind, bool isUserInitiated) async {
    final decision = await showDialog&lt;WebviewPermissionDecision&gt;(
      context: navigatorKey.currentContext!,
      builder: (BuildContext context) =&gt; AlertDialog(
        title: const Text('WebView permission requested'),
        content: Text('WebView has requested permission \'$kind\''),
        actions: &lt;Widget&gt;[
          TextButton(
            onPressed: () =&gt;
                Navigator.pop(context, WebviewPermissionDecision.deny),
            child: const Text('Deny'),
          ),
          TextButton(
            onPressed: () =&gt;
                Navigator.pop(context, WebviewPermissionDecision.allow),
            child: const Text('Allow'),
          ),
        ],
      ),
    );

    return decision ?? WebviewPermissionDecision.none;    // 왼쪽 표현식 값이 null이 아니면 왼쪽 값을 null이면 오른쪽 값을 리턴한다.
  }
}
</pre></table></code></div></div><hr /><h1 id="개발하면서-느낀점">개발하면서 느낀점</h1><ul><li>패키지<ul><li>패키지에 원하는 기능이 “올인원”인 경우는 드물어서 다수개의 패키지를 설치하여 사용하여야 합니다.<li>패키지의 기능 수정을 위해서는 C/C++을 알아야 하며, plugin 개발 방법도 함께 숙지하여야 합니다.<li>간단한 프로그램을 만들더라도 다수개의 패키지를 설치/관리하여야 하는 상황이 발생합니다.</ul><li>디바이스 지원<ul><li>패키지가 모바일/데스크탑 모두 지원하는 경우도 있지만 그렇지 않은 경우도 있기 때문에 최악의 경우 모바일/윈도우/맥OS/리눅스의 패키지를 찾아서 따로 설치하여야 하는 경우 발생할 수도 있습니다.(이 경우는 디바이스에 의존적인 자원을 사용하는 경우 각 시스템별 사용법이 달라서 패키지 개발을 따로 특정 디바이스에 맞춰 개발한 경우에 발생함)<li>윈도우의 경우 아직 지원이 많이 부족하여, plugin을 만들어 사용해야하는 경우가 발생할 수 있습니다. (plugin의 기술력이 요구됨)</ul><li>DPI awareness<ul><li>윈도우의 멀티모니터 지원시 각각의 배율을 설정하여 사용하는데, 이를 해지할 수 있는 패키지가 없습니다.<li>DPI 관련해서는 플루터 엔진에서 설정된 내용을 가져올 수만 있고 셋팅하는 부분은 따로 존재하지 않습니다.</ul><li>Plugin 개발<ul><li>Windows에서 Flutter 플러그인을 개발하려면 주로 C++ 및 MFC API를 사용하여 Flutter 코덱을 통해 네이티브 플러그인과 Flutter 간에 통신합니다.<li>또 다른 방법은 FFI를 사용하여 Dart에서 많은 win32 API를 캡슐화하고 Dart를 직접 사용하여 win32 앱을 작성 하는 Dart 패키지 win32 와 같이 Dart가 FFI 를 통해 Windows API를 호출 하도록 하는 것입니다.</ul></ul><hr /><div class="footnotes" role="doc-endnotes"><ol><li id="fn:footnote_1"><p>브라우저 : 윈도우의 WebView2를 이용한 브라우저. <a href="#fnref:footnote_1" class="reversefootnote" role="doc-backlink">&#8617;</a></p></ol></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/'>프로그래밍</a>, <a href='/categories/flutter/'>Flutter</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/flutter-3-0/" class="post-tag no-text-decoration" >Flutter 3.0</a> <a href="/tags/%ED%94%8C%EB%9F%AC%ED%84%B0-3-0/" class="post-tag no-text-decoration" >플러터 3.0</a> <a href="/tags/windows/" class="post-tag no-text-decoration" >Windows</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%5B+Flutter+%5D+%ED%94%8C%EB%9F%AC%ED%84%B0%EB%A5%BC+%EC%9D%B4%EC%9A%A9%ED%95%9C+%EC%9C%88%EB%8F%84%EC%9A%B0%EC%9A%A9+%EC%95%B1+%EA%B0%9C%EB%B0%9C+%282%29+-+MonosLab&url=https%3A%2F%2Fmonoslab.github.io%2Fposts%2Fflutter_dev_basic%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%5B+Flutter+%5D+%ED%94%8C%EB%9F%AC%ED%84%B0%EB%A5%BC+%EC%9D%B4%EC%9A%A9%ED%95%9C+%EC%9C%88%EB%8F%84%EC%9A%B0%EC%9A%A9+%EC%95%B1+%EA%B0%9C%EB%B0%9C+%282%29+-+MonosLab&u=https%3A%2F%2Fmonoslab.github.io%2Fposts%2Fflutter_dev_basic%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fmonoslab.github.io%2Fposts%2Fflutter_dev_basic%2F&text=%5B+Flutter+%5D+%ED%94%8C%EB%9F%AC%ED%84%B0%EB%A5%BC+%EC%9D%B4%EC%9A%A9%ED%95%9C+%EC%9C%88%EB%8F%84%EC%9A%B0%EC%9A%A9+%EC%95%B1+%EA%B0%9C%EB%B0%9C+%282%29+-+MonosLab" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div><script src="https://utteranc.es/client.js" repo="MonosLab/monoslab.github.io" issue-term="pathname" theme="boxy-light" crossorigin="anonymous" async> </script></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">최근 업데이트</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/cpp-msc-version/">[ VC++ ] MSVC 버전 (_MSC_VER, _MSC_FULL_VER)</a><li><a href="/posts/comfyui_cuibox/">[ ComfyUI ] CuiBox 소개</a><li><a href="/posts/comfyui_install/">[ ComfyUI ] ComfyUI 설치</a><li><a href="/posts/comfyui_prompt/">[ ComfyUI ] 프롬프트</a><li><a href="/posts/virus-misdiagnosis-case/">[ 사례 ] 바이러스 오진 사례</a></ul></div><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/rust/">RUST</a> <a class="post-tag" href="/tags/windows/">Windows</a> <a class="post-tag" href="/tags/vc/">VC++</a> <a class="post-tag" href="/tags/tauri/">Tauri</a> <a class="post-tag" href="/tags/solved/">solved</a> <a class="post-tag" href="/tags/ai/">AI</a> <a class="post-tag" href="/tags/comfyui/">ComfyUI</a> <a class="post-tag" href="/tags/error/">Error</a> <a class="post-tag" href="/tags/flutter-3-0/">Flutter 3.0</a> <a class="post-tag" href="/tags/%EC%9D%B8%EA%B3%B5%EC%A7%80%EB%8A%A5/">인공지능</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">바로가기</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>관련된 글</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/flutter_dev_plugin/"><div class="card-body"> <em class="small" data-ts="1664485200" data-df="YYYY-MM-DD" > 2022-09-30 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[ Flutter ] 플러터를 이용한 윈도우용 앱 개발 (1)</h3><div class="text-muted small"><p> Contents Windows 네이티브 앱 개발 Windows UI 지원 다양한 샘플들 Plugin 개발 Windows 네이티브 앱 개발 Flutter(플러터)는 여러 웹앱과 마찬가지로 웹 컨텐츠를 네이티브 컨테이너(Native container)로 감싸고 있습니다. 내부적으로 ...</p></div></div></a></div><div class="card"> <a href="/posts/flutter_vs_electron/"><div class="card-body"> <em class="small" data-ts="1671138000" data-df="YYYY-MM-DD" > 2022-12-16 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[ Flutter ] Flutter와 Electron 비교</h3><div class="text-muted small"><p> Contents Flutter vs Electron 두 프레임워크의 주요 장/단점 비교 구동하는 언어와 기술 진입 장벽 개발 속도 크로스 플랫폼 지원 Native API 지원 Third-Party 지원 웹어셈블리(Wasm) DevTools...</p></div></div></a></div><div class="card"> <a href="/posts/flutter_3_0/"><div class="card-body"> <em class="small" data-ts="1662411600" data-df="YYYY-MM-DD" > 2022-09-06 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[ Flutter ] Flutter 3.0</h3><div class="text-muted small"><p> Contents Flutter란? Flutter 장/단점(개인적 견해) Flutter 3.0 설치를 위한 환경 Flutter 설치 앱 생성 및 실행 배포 앱 빌드 및 배포 기존 flutter 앱에 다른 지원 디바이스 추가 기타 명령 Fl...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/rust/" class="btn btn-outline-primary" prompt="이전 글"><p>[ RUST ] 러스트</p></a> <a href="/posts/flutter_vs_electron/" class="btn btn-outline-primary" prompt="다음 글"><p>[ Flutter ] Flutter와 Electron 비교</p></a></div></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/rust/">RUST</a> <a class="post-tag" href="/tags/windows/">Windows</a> <a class="post-tag" href="/tags/vc/">VC++</a> <a class="post-tag" href="/tags/tauri/">Tauri</a> <a class="post-tag" href="/tags/solved/">solved</a> <a class="post-tag" href="/tags/ai/">AI</a> <a class="post-tag" href="/tags/comfyui/">ComfyUI</a> <a class="post-tag" href="/tags/error/">Error</a> <a class="post-tag" href="/tags/flutter-3-0/">Flutter 3.0</a> <a class="post-tag" href="/tags/%EC%9D%B8%EA%B3%B5%EC%A7%80%EB%8A%A5/">인공지능</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6RXBCRQDBF"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-6RXBCRQDBF'); }); </script>
