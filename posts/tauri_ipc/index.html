<!DOCTYPE html><html lang="ko-KR" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="우당탕탕 타우리 #008💬 프로세스 간 통신(IPC)" /><meta name="author" content="Kwangsoo Seo" /><meta property="og:locale" content="ko_KR" /><meta name="description" content="Contents" /><meta property="og:description" content="Contents" /><link rel="canonical" href="https://monoslab.github.io/posts/tauri_ipc/" /><meta property="og:url" content="https://monoslab.github.io/posts/tauri_ipc/" /><meta property="og:site_name" content="MonosLab" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2023-08-20T18:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="우당탕탕 타우리 #008💬 프로세스 간 통신(IPC)" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Kwangsoo Seo" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Kwangsoo Seo"},"dateModified":"2023-08-24T11:15:53+09:00","datePublished":"2023-08-20T18:00:00+09:00","description":"Contents","headline":"우당탕탕 타우리 #008💬 프로세스 간 통신(IPC)","mainEntityOfPage":{"@type":"WebPage","@id":"https://monoslab.github.io/posts/tauri_ipc/"},"url":"https://monoslab.github.io/posts/tauri_ipc/"}</script><title>우당탕탕 타우리 #008💬 프로세스 간 통신(IPC) | MonosLab</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="MonosLab"><meta name="application-name" content="MonosLab"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">MonosLab</a></div><div class="site-subtitle font-italic">Season 1</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <img src="/assets/img/default/home.png" alt="home" onerror="this.style.display='none'"> <span>홈</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <img src="/assets/img/default/categories.png" alt="categories" onerror="this.style.display='none'"> <span>카테고리</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <img src="/assets/img/default/archives.png" alt="archives" onerror="this.style.display='none'"> <span>타임라인</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <img src="/assets/img/default/tags.png" alt="tags" onerror="this.style.display='none'"> <span>태그</span> </a><li class="nav-item"> <a href="/portfolio/" class="nav-link"> <img src="/assets/img/default/portfolio.png" alt="portfolio" onerror="this.style.display='none'"> <span>주요 경력</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <img src="/assets/img/default/about.png" alt="about" onerror="this.style.display='none'"> <span>정보</span> </a></ul><footer class="d-flex w-100 justify-content-left"><div class="d-flex justify-content-between align-items-left text-muted"><div class="footer-left"><p class="mb-1" style="vertical-align: top;"> <a href="https://en.wikipedia.org/wiki/Creative_Commons_license" target="_blank"><img width="88" height="31" src="/assets/img/cc_by-nc_icon.png" alt="cc" onerror="this.style.display='none'"></a> &nbsp;&nbsp;&nbsp;<img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgithub.com%2FMonosLab%2Fhit-counter&count_bg=%2379C83D&title_bg=%23909090&icon=&icon_color=%23E7E7E7&title=hits&edge_flat=false" alt="count" onerror="this.style.display='none'"></p><p class="mb-0"> ©2025 <a href="https://www.youtube.com/channel/UCypXLJ4v42wl5FOsLebYiOg">MonosLab</a>. <span data-toggle="tooltip" data-placement="top" title="명시되지 않는 한 이 사이트의 블로그 게시물은 작성자의 Creative Commons Attribution 4.0 International(CC BY 4.0) 라이선스에 따라 사용이 허가되었습니다.">일부 권리 보유</span> <br/> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 홈 </a> </span> <span>우당탕탕 타우리 #008💬 프로세스 간 통신(IPC)</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> 포스트</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="검색..."> </span> <span id="search-cancel" >취소</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>우당탕탕 타우리 #008💬 프로세스 간 통신(IPC)</h1><div class="post-meta text-muted"> <span> 게시 <em class="" data-ts="1692522000" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2023-08-20 </em> </span> <span> 업데이트 <em class="" data-ts="1692843353" data-df="YYYY-MM-DD" data-toggle="tooltip" data-placement="bottom"> 2023-08-24 </em> </span><div class="d-flex justify-content-between"> <span> By <em> MonosLab </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1513 단어"> <em>8 분</em>읽는 시간</span></div></div></div><div class="post-content"><p class="no_toc"><a href="http://hits.dwyl.com/MonosLab/post34"><img data-src="https://hits.dwyl.com/MonosLab/post34.svg?style=flat-square&amp;show=https://raw.githubusercontent.com/cotes2020/chirpy-images/mainunique" alt="HitCount" data-proofer-ignore></a></p><hr /><p class="no_toc"><strong>Contents</strong></p><ul id="markdown-toc"><li><a href="#프로세스-간-통신ipc-inter-process-communication" id="markdown-toc-프로세스-간-통신ipc-inter-process-communication">프로세스 간 통신(IPC; Inter-Process Communication)</a><ul><li><a href="#이벤트event" id="markdown-toc-이벤트event">이벤트(Event)</a><li><a href="#명령commands" id="markdown-toc-명령commands">명령(Commands)</a></ul></ul><hr /><h1 id="프로세스-간-통신ipc-inter-process-communication">프로세스 간 통신(IPC; Inter-Process Communication)</h1><p>타우리에서는 프로세스 간 통신을 위해 서로 격리된 프로세스가 안전하게 보호된 통신을 할 수 있도록 Asynchronous Message Passing 이라는 독특한 스타일의 프로세스 간 통신을 사용합니다. 여기서 프로세스는 간단한 데이터 표현을 사용하여 직렬화된 요청 및 응답을 교환합니다. 메시지 전달은 수신자가 필요에 따라 요청을 거부하거나 폐기할 수 있기 때문에 공유 메모리 또는 직접 기능 액세스보다 안전한 기술입니다. 예를 들어 타우리 Core 프로세스가 요청을 악의적 메시지라고 판단하면 요청을 폐기 해버리고 해당 기능을 실행하지 않습니다. 이번 글에서 다룰 내용은 타우리가 사용하는 2가지의 프로세스간 통신 방법인 이벤트(event)와 명령(command)입니다. 이와는 별개로 IPC 호출을 가로채는 모킹(mocking)이라는 방법도 제공하고 있습니다. 모킹에 대해서는 향후에 따로 정리해 올리겠습니다.</p><h2 id="이벤트event"><span class="mr-2">이벤트(Event)</span><a href="#이벤트event" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><img data-src="https://monoslab.github.io/assets/img/posts/tauri_ipc_event.png" alt="IPC_Event" data-proofer-ignore></p><p>이벤트는 단방향으로만 메시지를 전송할 수 있으며, 하나의 프로세스에서 하나 이상의 프로세스로 이벤트를 보낼 수 있습니다. 전역 메시지의 경우 모든 프로세스에게 이벤트를 보낼 수 있으며, 지정한 프로세스에게만 이벤트를 보낼 수도 있습니다. 또한 이벤트는 아래에 소개할 명령(Commands)과는 달리 프론트엔드(Webview)와 코어 프로세스에서 모두 보낼 수가 있습니다.</p><div class="language-rust highlighter-rouge"><div class="code-header"> <span data-label-text="Rust"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="k">use</span> <span class="nn">tauri</span><span class="p">::{</span><span class="n">Window</span><span class="p">,</span> <span class="n">AppHandle</span><span class="p">,</span> <span class="n">Manager</span><span class="p">};</span>
<span class="k">use</span> <span class="nn">std</span><span class="p">::</span><span class="n">thread</span><span class="p">;</span>

<span class="nd">#[tauri::command]</span>
<span class="k">fn</span> <span class="nf">call_rust</span><span class="p">(</span><span class="n">_window</span><span class="p">:</span> <span class="n">Window</span><span class="p">,</span> <span class="n">_app</span><span class="p">:</span> <span class="n">AppHandle</span><span class="p">)</span> <span class="p">{</span>
    <span class="nn">thread</span><span class="p">::</span><span class="nf">spawn</span><span class="p">(</span><span class="k">move</span> <span class="p">||</span> <span class="p">{</span>
        <span class="nn">thread</span><span class="p">::</span><span class="nf">sleep</span><span class="p">(</span><span class="nn">std</span><span class="p">::</span><span class="nn">time</span><span class="p">::</span><span class="nn">Duration</span><span class="p">::</span><span class="nf">from_secs</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
        <span class="n">_window</span><span class="nf">.emit</span><span class="p">(</span><span class="s">"emit_to_js"</span><span class="p">,</span> <span class="s">"Emit an event to the frontend."</span><span class="p">)</span><span class="nf">.unwrap</span><span class="p">();</span>
    <span class="p">});</span>
<span class="p">}</span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
   <span class="nn">tauri</span><span class="p">::</span><span class="nn">Builder</span><span class="p">::</span><span class="nf">default</span><span class="p">()</span>
   <span class="nf">.setup</span><span class="p">(|</span><span class="n">_app</span><span class="p">|</span> <span class="p">{</span>
      <span class="k">let</span> <span class="n">main_window</span> <span class="o">=</span> <span class="n">_app</span><span class="nf">.get_window</span><span class="p">(</span><span class="s">"main"</span><span class="p">)</span><span class="nf">.unwrap</span><span class="p">();</span>
      <span class="k">let</span> <span class="n">cc_main_window</span> <span class="o">=</span> <span class="n">main_window</span><span class="nf">.clone</span><span class="p">();</span>
      <span class="k">let</span> <span class="n">_</span> <span class="o">=</span> <span class="n">cc_main_window</span><span class="nf">.listen</span><span class="p">(</span><span class="s">"emit_to_rust"</span><span class="p">,</span> <span class="k">move</span> <span class="p">|</span><span class="n">e</span><span class="p">|</span> <span class="p">{</span>
         <span class="nd">println!</span><span class="p">(</span><span class="s">"&gt;&gt; {}"</span><span class="p">,</span> <span class="n">e</span><span class="nf">.payload</span><span class="p">()</span><span class="nf">.unwrap</span><span class="p">());</span>
      <span class="p">});</span>
      <span class="o">...</span>
      <span class="nf">Ok</span><span class="p">(())</span>
   <span class="p">})</span>
   <span class="nf">.invoke_handler</span><span class="p">(</span><span class="nn">tauri</span><span class="p">::</span><span class="nd">generate_handler!</span><span class="p">[</span><span class="n">call_rust</span><span class="p">])</span>
   <span class="nf">.run</span><span class="p">(</span><span class="nn">tauri</span><span class="p">::</span><span class="nd">generate_context!</span><span class="p">())</span>
   <span class="nf">.expect</span><span class="p">(</span><span class="s">"error while running tauri application"</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="p">{</span> <span class="nx">invoke</span> <span class="p">}</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">__TAURI__</span><span class="p">.</span><span class="nx">tauri</span><span class="p">;</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">listen</span> <span class="p">}</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">__TAURI__</span><span class="p">.</span><span class="nx">event</span><span class="p">;</span>
<span class="kd">const</span> <span class="p">{</span> <span class="nx">appWindow</span> <span class="p">}</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">__TAURI__</span><span class="p">.</span><span class="nb">window</span><span class="p">;</span>
<span class="p">...</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nf">to_rust</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">appWindow</span><span class="p">.</span><span class="nf">emit</span><span class="p">(</span><span class="dl">'</span><span class="s1">emit_to_rust</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Emit an event to Rust.</span><span class="dl">'</span><span class="p">);</span>
<span class="p">};</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nf">from_rust</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nf">listen</span><span class="p">(</span><span class="dl">'</span><span class="s1">emit_to_js</span><span class="dl">'</span><span class="p">,</span> <span class="nx">e</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">&lt;&lt; </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">e</span><span class="p">.</span><span class="nx">payload</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">}</span> <span class="nf">from_rust</span><span class="p">();</span>

<span class="nb">window</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">DOMContentLoaded</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
<span class="p">...</span>
<span class="nb">document</span>
    <span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">"</span><span class="s2">#call-rust-button</span><span class="dl">"</span><span class="p">)</span>
    <span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">click</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nf">to_rust</span><span class="p">());</span>
<span class="p">});</span>
</pre></table></code></div></div><p><img data-src="https://monoslab.github.io/assets/img/posts/tauri_ipc_src_event.png" alt="IPC_Events" data-proofer-ignore></p><p>위의 예제는 javascript와 러스트에서 서로 이벤트를 발생시키는 예제입니다. 이벤트를 발생시키기 위해 각각 emit()을 이용하였습니다.</p><details> <summary>요약</summary><li>단방향 메시지<li>하나의 프로세스가 하나 이상의 프로세스에 이벤트를 보냄<li>전역 또는 지정된 프로세스에 이벤트를 보내고 수신 </details><hr /><h2 id="명령commands"><span class="mr-2">명령(Commands)</span><a href="#명령commands" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><img data-src="https://monoslab.github.io/assets/img/posts/tauri_ipc_command.png" alt="IPC_Command" data-proofer-ignore></p><p>명령은 프론트엔드(Webview)에서 Rust 함수 또는 메소드에 인수와 함께 직접 호출하고 결과 값을 반환 받을 수 있는 외부 함수 인터페이스입니다. async 키워드를 사용하여 비동기식으로 실행 할 수도 있습니다. 비동기식으로 실행할 경우에는 async_runtime::spawn을 이용하여 스레드에서 명령을 실행합니다. Rust 함수(또는 메소드)를 명령으로 바꾸려면, 함수(또는 메소드)위에 <code class="language-plaintext highlighter-rouge">#[tauri::command]</code> 한 줄을 추가하면 됩니다. 아래의 예를 참고하여 주세요.</p><div class="language-rust highlighter-rouge"><div class="code-header"> <span data-label-text="Rust"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nd">#[tauri::command]</span>
<span class="k">fn</span> <span class="nf">my_command</span><span class="p">(</span><span class="n">msg</span><span class="p">:</span> <span class="nb">String</span><span class="p">)</span> <span class="p">{</span>
   <span class="nd">println!</span><span class="p">(</span><span class="s">"I got message '{}'"</span><span class="p">,</span> <span class="n">msg</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><p>명령은 위의 예제에서 처럼 매개변수를 가질수도 있으며(없을 수도 있음), 매개변수로는 일반 매개변수와 특수 매개변수를 가질 수가 있습니다. 일반 매개변수는 사용자가 입력한 매개변수를 이야기 하며, 특수 매개변수는 tauri::command 매크로에 의해 자동으로 주입되는</p><blockquote><ul><li>tauri::window : 명령을 호출한 윈도우에 대한 핸들<li>tauri::AppHandle : 전연 인스턴스에 대한 핸들<li>tauri::State<T> : 전역적으로 관리되는 상태 값 T를 입력(사용을 위해서 이전에 manage(T)를 호출해야 함)</T></ul></blockquote><p>위의 3 종류가 있습니다. <br /> 아래는 특수 매개변수에 대한 간단한 예시입니다.</p><div class="language-rust highlighter-rouge"><div class="code-header"> <span data-label-text="Rust"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nd">#[tauri::command]</span>
<span class="k">fn</span> <span class="nf">my_command</span><span class="p">(</span><span class="n">window</span><span class="p">:</span> <span class="nn">tauri</span><span class="p">::</span><span class="n">Window</span><span class="p">,</span> <span class="n">_app</span><span class="p">:</span> <span class="nn">tauri</span><span class="p">::</span><span class="n">AppHandle</span><span class="p">,</span> <span class="n">msg</span><span class="p">:</span> <span class="nb">String</span><span class="p">)</span> <span class="p">{</span>
    <span class="nd">println!</span><span class="p">(</span><span class="s">"I was invoked from window({}) and got message '{}'."</span><span class="p">,</span> <span class="n">window</span><span class="nf">.label</span><span class="p">(),</span> <span class="n">msg</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><p>위의 두 예제에 대한 호출은 아래와 같이 호출 해주시면 됩니다.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="복사되었습니다!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="p">{</span> <span class="nx">invoke</span> <span class="p">}</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">__TAURI__</span><span class="p">.</span><span class="nx">tauri</span><span class="p">;</span>
<span class="p">...</span>
<span class="k">await</span> <span class="nf">invoke</span><span class="p">(</span><span class="dl">"</span><span class="s2">my_command</span><span class="dl">"</span><span class="p">,</span>  <span class="p">{</span><span class="na">msg</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Hello, Tauri!</span><span class="dl">"</span><span class="p">});</span>
</pre></table></code></div></div><p><img data-src="https://monoslab.github.io/assets/img/posts/tauri_ipc_src_command.png" alt="IPC_Events" data-proofer-ignore> 두 함수의 정의는 각각 다른데, 위의 예제와 같이 하나로 호출이 가능한 것에 대해 의아해 하실 수 있습니다. 그 이유는 바로 tauri::command 매크로에 있습니다. 매크로는 프론트엔드(javascript)에서는 특수 매개변수는 보이지 않도록 재정의하기 때문입니다.</p><p>이외에도 비동기식으로도 IPC 통신이 가능한데 이는 create-tauri-app을 이용하여 프로젝트를 생성하면 기본으로 생성되는 내용이기 때문에 설명을 생략하도록 하겠습니다. <br /> <img data-src="https://monoslab.github.io/assets/img/posts/tauri_ipc_async.png" alt="IPC_Async" data-proofer-ignore></p><details> <summary>요약</summary><li>Rust 함수 및 메소드 호출<li>함수 및 메소드에 인수 전달<li>호출된 함수 또는 메소드로부터 응답 수신<li>async 키워드를 이용하여 비동기식으로 수행 가능 (async_runtime::spawn을 이용하여 별도의 스레드에서 명령을 수행) </details><hr /><blockquote><p><strong><span style="color:black">참고 : 위의 내용은 타우리 공식 가이드문서의 『<a href="https://tauri.app/v1/guides/features/command" target="_blank">프론트엔드로 부터 러스트 호출하기</a>』와 『<a href="https://tauri.app/v1/guides/features/events" target="_blank">이벤트</a>』를 참고하여 만들었습니다.</span></strong></p></blockquote></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%B0%8D/'>프로그래밍</a>, <a href='/categories/rust/'>RUST</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/rust/" class="post-tag no-text-decoration" >RUST</a> <a href="/tags/tauri/" class="post-tag no-text-decoration" >Tauri</a> <a href="/tags/windows/" class="post-tag no-text-decoration" >Windows</a> <a href="/tags/ipc/" class="post-tag no-text-decoration" >IPC</a> <a href="/tags/event/" class="post-tag no-text-decoration" >event</a> <a href="/tags/command/" class="post-tag no-text-decoration" >command</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 이 기사는 저작권자의 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 라이센스를 따릅니다.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">공유하기</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%EC%9A%B0%EB%8B%B9%ED%83%95%ED%83%95+%ED%83%80%EC%9A%B0%EB%A6%AC+%23008%F0%9F%92%AC+%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4+%EA%B0%84+%ED%86%B5%EC%8B%A0%28IPC%29+-+MonosLab&url=https%3A%2F%2Fmonoslab.github.io%2Fposts%2Ftauri_ipc%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%EC%9A%B0%EB%8B%B9%ED%83%95%ED%83%95+%ED%83%80%EC%9A%B0%EB%A6%AC+%23008%F0%9F%92%AC+%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4+%EA%B0%84+%ED%86%B5%EC%8B%A0%28IPC%29+-+MonosLab&u=https%3A%2F%2Fmonoslab.github.io%2Fposts%2Ftauri_ipc%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fmonoslab.github.io%2Fposts%2Ftauri_ipc%2F&text=%EC%9A%B0%EB%8B%B9%ED%83%95%ED%83%95+%ED%83%80%EC%9A%B0%EB%A6%AC+%23008%F0%9F%92%AC+%ED%94%84%EB%A1%9C%EC%84%B8%EC%8A%A4+%EA%B0%84+%ED%86%B5%EC%8B%A0%28IPC%29+-+MonosLab" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="링크 복사하기" data-title-succeed="링크가 복사되었습니다!"> </i> </span></div></div></div><script src="https://utteranc.es/client.js" repo="MonosLab/monoslab.github.io" issue-term="pathname" theme="boxy-light" crossorigin="anonymous" async> </script></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">최근 업데이트</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/cpp-msc-version/">[ VC++ ] MSVC 버전 (_MSC_VER, _MSC_FULL_VER)</a><li><a href="/posts/comfyui_cuibox/">[ ComfyUI ] CuiBox 소개</a><li><a href="/posts/comfyui_install/">[ ComfyUI ] ComfyUI 설치</a><li><a href="/posts/comfyui_prompt/">[ ComfyUI ] 프롬프트</a><li><a href="/posts/virus-misdiagnosis-case/">[ 사례 ] 바이러스 오진 사례</a></ul></div><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/rust/">RUST</a> <a class="post-tag" href="/tags/windows/">Windows</a> <a class="post-tag" href="/tags/vc/">VC++</a> <a class="post-tag" href="/tags/tauri/">Tauri</a> <a class="post-tag" href="/tags/solved/">solved</a> <a class="post-tag" href="/tags/ai/">AI</a> <a class="post-tag" href="/tags/comfyui/">ComfyUI</a> <a class="post-tag" href="/tags/error/">Error</a> <a class="post-tag" href="/tags/flutter-3-0/">Flutter 3.0</a> <a class="post-tag" href="/tags/%EC%9D%B8%EA%B3%B5%EC%A7%80%EB%8A%A5/">인공지능</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">바로가기</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>관련된 글</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/tauri_vs_electron/"><div class="card-body"> <em class="small" data-ts="1673557200" data-df="YYYY-MM-DD" > 2023-01-13 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>우당탕탕 타우리 #000💬 Tauri와 Electron 비교</h3><div class="text-muted small"><p> Contents Tauri vs Electron 두 프레임워크의 주요 장/단점 비교 결론 Tauri vs Electron Tauri와 Electron은 모두 웹 기술을 기반으로 크로스 플랫폼을 지원하고 있으며, Desktop Application을 구축하기 위한 훌륭한 프레임워크입니다. HTM...</p></div></div></a></div><div class="card"> <a href="/posts/tauri_custm_titlebar/"><div class="card-body"> <em class="small" data-ts="1678395600" data-df="YYYY-MM-DD" > 2023-03-10 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>우당탕탕 타우리 ####💬 타이틀바 커스트마이징</h3><div class="text-muted small"><p> Contents 타이틀바 커스트마이징 tauri.conf.json index.html main.js 타이틀바 커스트마이징 tauri.conf.json 타이틀바를 커스트마이징 하기 위해서는 타우리 설정 파일에서 윈도우에 관련된 몇가지 항목을 설정해줘야 합니다. 아래는 taur...</p></div></div></a></div><div class="card"> <a href="/posts/tauri_fold_and_file/"><div class="card-body"> <em class="small" data-ts="1679518800" data-df="YYYY-MM-DD" > 2023-03-23 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>우당탕탕 타우리 #003💬 프로젝트의 폴더 및 파일 구성</h3><div class="text-muted small"><p> Contents Tauri 구성 폴더/파일 구성 Tauri 구성 프로젝트의 설정(tauri.conf.json, cargo.toml)에 대해 알아보기 전에 폴더와 파일 구성을 먼저 알고 가는 것이 좋을 듯 하여 강좌 순서를 조금 바꾸어봤습니다. 먼저 폴더 및 파일의 기본 구성을 알아 보고 다음 강좌에서...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/tauri_splash_screen/" class="btn btn-outline-primary" prompt="이전 글"><p>우당탕탕 타우리 #007💬 Splash screen 만들기</p></a> <a href="/posts/cpp-draw-png-file/" class="btn btn-outline-primary" prompt="다음 글"><p>[ VC++ ] CImage 클래스를 이용하여 PNG 파일을 그릴때 깨지는 문제 해결</p></a></div></div></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">인기 태그</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/rust/">RUST</a> <a class="post-tag" href="/tags/windows/">Windows</a> <a class="post-tag" href="/tags/vc/">VC++</a> <a class="post-tag" href="/tags/tauri/">Tauri</a> <a class="post-tag" href="/tags/solved/">solved</a> <a class="post-tag" href="/tags/ai/">AI</a> <a class="post-tag" href="/tags/comfyui/">ComfyUI</a> <a class="post-tag" href="/tags/error/">Error</a> <a class="post-tag" href="/tags/flutter-3-0/">Flutter 3.0</a> <a class="post-tag" href="/tags/%EC%9D%B8%EA%B3%B5%EC%A7%80%EB%8A%A5/">인공지능</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">검색 결과가 없습니다.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/ko.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-6RXBCRQDBF"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-6RXBCRQDBF'); }); </script>
